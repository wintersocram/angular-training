<form #f="ngForm" (ngSubmit)="onSubmit(f, courseName)" class="course-form">
    <div ngModelGroup="courseForm" #courseForm="ngModelGroup">
        <div class="form-group">
            <label for="courseName">Course Name</label>
            <input
                required
                minlength="5"
                ngModel
                name="courseName"
                #courseName="ngModel"
                (change)="log(courseName)"
                id="courseName"
                class="form-control"
                type="text"
            >
            <div class="alert alert-danger" *ngIf="courseName.touched && courseName.invalid">
                <div *ngIf="courseName.errors.required">
                    A name is required
                </div>
                <div *ngIf="courseName.errors.minlength">
                    At least {{ courseName.errors.minlength.requiredLength }} characters is required
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="category">Category</label>
            <select 
                required
                pattern="[^0]+"
                ngModel
                name="category"
                #category="ngModel"
                id="category"
                class="form-control"
            >
                <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option>
            </select>
            <div class="alert alert-danger" *ngIf="category.touched && category.invalid">
                A category is required
            </div>
        </div>
        <div class="checkbox">
            <label>
                <input
                    ngModel
                    name="hasGuarantee"
                    #hasGuarantee="ngModel"
                    type="checkbox"
                >
                30-days money-back guarantee
            </label>
        </div>
    </div>
    <p>{{ f.value | json }}</p>
    <button 
        type="submit" 
        [disabled]="!f.valid" 
        class="btn btn-primary"
    >Create</button>
</form>
